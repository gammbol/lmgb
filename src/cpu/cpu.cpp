#include "cpu.h"

lmgb::Cpu::Cpu() {
    // initializing registers
    af.pair = 0x11;
    af.bytes.l = 0xb0;
    bc.pair = 0x0013;
    de.pair = 0x00d8;
    hl.pair = 0x014d;
    sp = 0xfffe;

    // initializing RAM
    mem.Write(0xff05, 0x00);
    mem.Write(0xff06, 0x00);
    mem.Write(0xff07, 0x00);
    mem.Write(0xff10, 0x80);
    mem.Write(0xff11, 0xbf);
    mem.Write(0xff12, 0xf3);
    mem.Write(0xff14, 0xbf);
    mem.Write(0xff16, 0x3f);
    mem.Write(0xff17, 0x00);
    mem.Write(0xff19, 0xbf);
    mem.Write(0xff1a, 0x7f);
    mem.Write(0xff1b, 0xff);
    mem.Write(0xff1c, 0x9f);
    mem.Write(0xff1e, 0xbf);
    mem.Write(0xff20, 0xff);
    mem.Write(0xff21, 0x00);
    mem.Write(0xff22, 0x00);
    mem.Write(0xff23, 0xbf);
    mem.Write(0xff24, 0x77);
    mem.Write(0xff25, 0xf3);
    mem.Write(0xff26, 0xf1);
    mem.Write(0xff40, 0x91);
    mem.Write(0xff42, 0x00);
    mem.Write(0xff43, 0x00);
    mem.Write(0xff45, 0x00);
    mem.Write(0xff47, 0xfc);
    mem.Write(0xff48, 0xff);
    mem.Write(0xff49, 0xff);
    mem.Write(0xff4a, 0x00);
    mem.Write(0xff4b, 0x00);
    mem.Write(0xffff, 0x00);
}

void lmgb::Cpu::Step() {
    byte opcode = mem.Read(0);
}